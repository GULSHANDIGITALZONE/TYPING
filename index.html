<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Typing Test</title>
  <link rel="shortcut icon" href="./ज्ञान की बाते logo 1.png" type="image/x-icon">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
     integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
     crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./style.css">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #9eb3c7 url('./ज्ञान की बाते logo 1.png') no-repeat   fixed;
      background-size: 10%;
      padding: 0;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 1rem;
    }
    #quote {
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 1rem;
      min-height: 140px;
      white-space: pre-wrap;
    }
    .highlight {
      background-color: yellow;
      font-weight: bold;
    }
    .wrong {
      background-color: red;
      color: #fff;
    }
    textarea {
      width: 100%;
      height: 100px;
      padding: 0.8rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      resize: none;
    }
    #stats {
      margin-top: 1rem;
      font-size: 1.1rem;
      text-align: center;
    }
    .btn {
      display: inline-block;
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 1rem;
      margin-right: 10px;
    }
    .btn:hover {
      background-color: #0056b3;
    }
    #level, #timeInputDiv {
      text-align: center;
      margin-bottom: 1rem;
    }
    #timer {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <h1>English Typing Test</h1>

    <div style="font-size:1rem;">
      <a href="mailto:gulshankumardariyapur85885@gmail.com" style="position: fixed; bottom: 10px; right: 10px;"><img style="width: 80px; height: auto; border-radius: 50%;" src="./smartparcel-mail.gif" alt=""></a>
      <img style="width: 10%; height: 10%;" onclick="showAbout()" src="./chatbot.png" alt="">
      <a  href="https://gulshandigitalzone.netlify.app/"><i  class="fa-solid fa-house"></i></a>
  </div>
   <div id="aboutModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeAbout()">&times; Less </span>
                    <img class="ruls" src="./ruls.jpg" alt="">
                                   
                   
                </div>
            </div>
            <script src="./script.js"></script>
  <div id="level">
    <label for="levelSelect">Select Level:</label>
    <select id="levelSelect">
      <option value="easy">Easy</option>
      <option value="medium">Medium</option>
      <option value="hard">Hard</option>
    </select>
  </div>
  <div id="timeInputDiv">
    <label for="testTime">Enter Time (seconds):</label>
    <input type="number" id="testTime" min="60" max="600" value="300" />
  </div>
  <div id="timer">Time left: 0s</div>
  <div id="quote">Click Start to load a paragraph...</div>
  <textarea id="input" placeholder="Start typing here..." disabled></textarea>
  <div style="text-align: center;">
    <button class="btn" onclick="startTest()">Start Test</button>
    <button class="btn" onclick="endTest()">Submit</button>
    <button class="btn" onclick="resetTest()">Change Word</button>
  </div>
  <div id="stats"></div>

  <script>
    const paragraphs = {
       easy: [
        "My name is Gulshan. I am a student. I go to school every day. I like to study English, Math, and Science. My teachers are very kind. They help me learn new things. I wake up early in the morning. I brush my teeth, take a bath, and wear my school uniform. My mother makes breakfast for me. I eat my food and go to school on my bicycle. My school is near my house. The school has many classrooms. We sit in rows and listen to our teacher. I write in my notebook. I read books in the library. At 10 o’clock, we have a lunch break. I eat lunch with my friends. After lunch, we play games. I like to play cricket and football. In the afternoon, we go back to class. We study until the bell rings. Then I return home. I do my homework. In the evening, I watch cartoons or play outside. My father comes home from work. We eat dinner together. I talk to my parents and then go to bed. On Sundays, I don’t go to school. I help my mother at home. Sometimes we go to the park. I like to swing and slide. My family is small. We live in a clean house. My house has two bedrooms, one kitchen, one bathroom, and one living room. I keep my room clean. I keep my books on the table. I want to become a doctor. I want to help sick people. I will study hard and make my parents proud. My best friend’s name is Aman. He lives next to my house. We go to the same school. We play together in the evening. He shares his toys with me. I also share my books. We study together before exams. We help each other. I am happy to have a good friend. Our school has many fun activities. We celebrate festivals, sing songs, and take part in plays. I once acted as a tree in a school play. Everyone clapped. My teacher praised me. I also love to draw. I use colors to make nice pictures. I draw flowers, houses, and animals. My parents keep my drawings safe. I also like music. I listen to songs and hum them. My grandfather tells me stories at night. I listen to him carefully. He knows many stories. I learn good values from them. Life is beautiful. We should be kind, helpful, and honest. We should respect our elders. We should work hard and dream big. If we believe in ourselves, we can do anything.",
        "The sun rises in the east. Birds start chirping. People wake up and start their day. Morning is a fresh start. I like to walk in the morning. The air is clean and cool. Trees look green. Flowers look bright. I take deep breaths and feel happy. After walking, I drink water and have my breakfast. I like fruits, bread, and milk. My mother gives me healthy food. Eating good food keeps us strong. I go to school with my brother. We wear clean uniforms. Our school gate is big. There is a garden near the entrance. Our principal is very nice. She greets everyone with a smile. In school, we sing the national anthem. Then we go to class. My first subject is English. I learn new words and sentences. My teacher reads stories. Then we have math. I solve sums and count numbers. In science, we learn about plants, animals, and the human body. Social studies teach us about our country and great leaders. After some classes, we take a short break. I drink water and talk to my friends. Then we study again. Our teachers use the blackboard to explain. Sometimes they show pictures and videos. Learning is fun. Then we go for lunch. I eat roti, vegetables, and rice. I don’t waste food. After lunch, we play on the playground. There are swings, slides, and open space to run. We laugh and enjoy. After playtime, we go back to class for drawing or music. I love drawing. I also sing songs with my friends. Then we get homework. When the last bell rings, we say goodbye to teachers. I return home with my brother. I change clothes and wash my hands. Then I take rest for some time. In the evening, I do my homework. I ask my parents if I need help. After homework, I play with my friends. We play hide and seek or ride bicycles. Then I come back home. We eat dinner together. My mother makes delicious food. We talk about our day. After dinner, I brush my teeth. My father tells us stories. Then I go to sleep. I close my eyes and thank God for a happy day. Every day teaches something new. We should be good and always help others. We should keep our surroundings clean. Don’t throw garbage on the road. Use a dustbin. Save water and electricity. Plant trees and protect nature. Speak politely and smile often. These small habits make life better. Let us grow with love and kindness.",
        "Gulshan was a boy who lived in a small town near the forest. He loved to play with his friends and watch the birds fly in the sky. Every morning he would wake up early and run to the fields to see the rising sun. His father was a farmer who worked very hard to grow rice and wheat. His mother cooked food and told him nice stories in the evening. One day Ravi found a small puppy near the river. The puppy was weak and hungry, so Ravi picked it up and took it home. He gave it milk and food. The puppy wagged its tail and looked happy. Ravi named it Moti. From that day Moti became Ravi’s best friend. They played together, walked in the fields, and even slept near each other. One evening a big storm came to the town. Heavy rain and strong wind broke many trees. People were afraid and ran to their homes. Ravi saw that some hens and goats were trapped near the river. He wanted to help but the water was rising fast. Moti barked loudly as if to say do not be afraid. Ravi ran to his father and told him about the animals. Together they went to the river and saved the hens and goats. The villagers praised Ravi and said he was brave. Ravi learned that helping others gives more joy than playing or winning. After the storm ended the sky became clear and the stars shone brightly. Ravi looked at the stars and thought that one day he would grow up to be a strong man who always helped people. He hugged Moti and smiled. The puppy wagged its tail again as if to agree. From that day the boy and his puppy became the hope of the small town, showing everyone that love and courage can make even the smallest person a hero.",
      ],
      medium: [
        "Once upon a time in a small village there lived a young boy named arjun who was curious about everything around him. He would often ask questions about the stars, the trees, and even the flowing river that passed near his home. His parents were simple farmers and they wanted him to help in the fields, but arjun’s heart always longed for stories and knowledge. One evening, as the sun was setting, he met an old traveler resting under a tree near the village well. The traveler carried a bag filled with books and strange objects. Arjun, with his usual excitement, asked the traveler where he had come from and what wonders he had seen. The old man smiled and told him about distant mountains, great cities, and libraries where thousands of books were kept. Arjun listened with wide eyes and decided that one day he too would travel and learn about the world. Days passed and arjun began to spend more time with the traveler, learning letters, numbers, and stories of ancient kings. The villagers laughed at him and said that farming was the only work fit for a boy like him, but arjun did not give up. He practiced reading every night with a small lamp even when his eyes grew tired. Slowly his knowledge grew and he began to teach other children in the village. The traveler told him that true wisdom was not only in books but also in kindness and courage. One day a terrible storm hit the village. The river flooded and many houses were damaged. People were afraid and confused. Arjun remembered the lessons from the traveler and helped organize the villagers to protect the fields and animals. He showed them how to make strong walls with mud and stones to stop the water. His courage inspired others, and together they saved most of the village from destruction. After the storm ended, the villagers who once laughed at him now respected him. They realized that knowledge could bring real change. Arjun continued to study and later traveled to nearby towns, learning from scholars and sharing his wisdom. Years later he returned to his village as a teacher, and the same children who once played in the fields now learned in a small school built near the river. Arjun always reminded them that dreams begin with curiosity and grow with hard work. He said that every child has the power to change the world if they believe in themselves. The old traveler had long left the village, but his words remained in arjun’s heart forever. The story of the curious boy became a lesson for generations. It taught people that education is the true wealth that cannot be stolen or destroyed. No storm, no hardship, and no doubt can defeat the power of knowledge combined with kindness. And so the little village by the river became known not just for farming but for wisdom, courage, and hope that spread far beyond its borders.",
        "Technology has become an essential part of modern life. From the moment we wake up to the time we go to sleep, we are surrounded by gadgets and tools that make our lives easier. Smartphones, computers, the internet, and artificial intelligence have transformed the way we communicate, work, and live. The internet has brought the world closer. Information is now available at the click of a button. Online learning, virtual meetings, and digital payments are everyday realities. Social media helps people stay connected, share ideas, and express themselves. Technology also plays a vital role in healthcare. Advanced machines assist in diagnosis and treatment. Robots help in surgeries, and wearable devices track heart rate, sleep, and fitness. In education, students can access lectures, books, and quizzes from anywhere. Teachers use videos, animations, and interactive tools to make learning more engaging. Businesses rely on technology for data management, marketing, and customer service. Cloud computing and artificial intelligence are helping companies grow faster and smarter. However, technology also brings challenges. Excessive screen time affects eyesight and sleep. Social media addiction is a growing concern. Privacy issues and cyber threats are major problems. Children need guidance on how to use the internet safely. Cyberbullying and misinformation are dangerous. It is important to teach digital ethics and responsibility. Despite the challenges, the benefits of technology are many. It saves time, increases efficiency, and creates new opportunities. Rural areas are getting access to better healthcare and education through digital platforms. Farmers use mobile apps to know weather updates and market prices. Governments use technology for public services, safety, and transparency. Traffic management, pollution control, and disaster alerts are examples of smart governance. In the future, technologies like blockchain, machine learning, and 5G will change the world even more. Self-driving cars, smart homes, and personalized medicine are becoming realities. But with great power comes great responsibility. We must use technology wisely and ethically. Always take breaks while using screens. Protect your personal data. Avoid spreading fake news. Learn new skills to stay updated. The world is changing fast, and those who adapt will succeed. Encourage creativity and innovation. Solve problems using digital tools. Technology should help humanity, not control it. Balance is the key. Use the internet to learn, create, and grow. Do not let it waste your time. Remember, technology is a tool — its value depends on how we use it. Whether it's students, workers, or leaders — everyone should aim for a better digital future. Technology and human values must go hand in hand. Let us build a smart, safe, and kind world together. The future is digital, and it starts with us.",
        "India's freedom struggle was a long and determined fight to end British rule. It began in 1857 with the Revolt of the Sepoys, also called the First War of Independence. Although the rebellion failed, it sparked the spirit of nationalism. Rani Lakshmibai, Mangal Pandey, and Tantia Tope fought bravely. The Indian National Congress was formed in 1885. Leaders like Dadabhai Naoroji and Gopal Krishna Gokhale used peaceful means. Later, Bal Gangadhar Tilak and Lala Lajpat Rai promoted aggressive approaches. Mahatma Gandhi introduced non-violence and civil disobedience. Movements like Non-Cooperation and Quit India involved mass protests. Gandhi's ideas inspired millions. Subhas Chandra Bose formed the INA. Bhagat Singh and others made great sacrifices. Finally, India gained independence in 1947. The struggle showed unity, strength, and sacrifice. Managing time is vital. It helps improve productivity, reduce stress, and achieve goals. Start by setting clear priorities. Create a daily plan and avoid distractions. Use tools like calendars and reminders. Break big tasks into smaller ones. Avoid procrastination by starting early. Self-discipline is key. Time once lost can never be recovered. Students and professionals benefit from good time habits. Balance work and rest. A focused mind works better. Do not multitask too much. Learn to say no when needed. Set deadlines and follow them. Review your progress weekly. Adjust plans when required. Healthy routines support time management. Sleep well and eat healthy. Keep your workspace clean. Avoid overcommitment. Focus on important, not just urgent tasks. Technology can help, but avoid digital distractions. Stay motivated and reward yourself for progress. Learn from failures and keep improving. Practice makes perfect. Read more, stay curious, and plan ahead. Success is not just about hard work, but also smart work. Good time management leads to success and peace of mind. Be consistent and patient. Time is a gift, use it wisely."
      ],
      hard: [
      "Climate change is one of the most pressing challenges facing humanity today. It refers to long-term shifts in temperatures and weather patterns, primarily caused by human activities such as burning fossil fuels, deforestation, and industrial pollution. As greenhouse gases like carbon dioxide and methane increase in the atmosphere, they trap heat, leading to global warming. This warming causes glaciers to melt, sea levels to rise, and extreme weather events to become more frequent and intense. From deadly heatwaves and hurricanes to prolonged droughts and floods, the consequences are becoming increasingly visible. Ecosystems are also under threat; coral reefs are bleaching, polar bears are losing their habitats, and countless species face extinction. The economic impact is significant too—damaged infrastructure, reduced crop yields, and increased healthcare costs all put pressure on governments and communities. Scientists have warned that if we don’t act urgently, temperatures could rise beyond the point of no return, causing irreversible damage. The Paris Agreement, signed by nearly every country, aims to limit global warming to well below 2 degrees Celsius. But achieving this goal requires collective global effort. Individuals can reduce their carbon footprint by using public transport, conserving energy, recycling waste, and supporting sustainable products. Governments must invest in renewable energy sources like solar, wind, and hydro power. Transitioning from coal-based power plants to green energy is essential. Corporations should adopt eco-friendly practices, reduce emissions, and engage in responsible production. Education and awareness are also crucial—people must understand that every small action counts. Planting trees, protecting forests, and restoring wetlands can act as natural carbon sinks. Innovation in green technology, electric vehicles, and carbon capture methods also offer hope. However, change is not easy. Political resistance, economic constraints, and lack of public will often delay progress. Developing nations argue for climate justice—they point out that industrialized countries caused most of the damage and should bear more responsibility. This makes climate change not just an environmental issue, but a moral and ethical one. The youth around the world are raising their voices through protests, campaigns, and climate strikes. Leaders must listen and act now. Ignoring the crisis will only worsen the outcome. The time for debate is over—the time for action is now. A healthy planet is not a luxury but a necessity for survival. Let us work together to create a greener, cleaner, and more sustainable future for the generations to come.",  
      "In today’s fast-paced digital economy, innovation and adaptability are key drivers of success. Companies that fail to evolve with changing technology and consumer behavior risk becoming obsolete. From e-commerce to artificial intelligence, businesses across sectors are leveraging cutting-edge tools to improve efficiency, reduce costs, and deliver better customer experiences. Startups, in particular, have disrupted traditional industries by introducing new models based on speed, convenience, and personalization. For instance, online streaming has overtaken cable TV, digital wallets are replacing cash, and remote work is becoming the norm in many industries. But while technology opens doors, it also introduces complexity. Cybersecurity, data privacy, and ethical AI usage are major concerns. As machines become smarter, questions arise about job displacement and the future of human labor. Employees must continuously reskill and adapt to new tools. Lifelong learning is no longer optional but essential. Organizations are focusing more on soft skills, emotional intelligence, and creative problem-solving—traits that machines cannot replicate. Leadership styles are evolving too. Modern leaders must be agile, inclusive, and tech-savvy. Hierarchical command structures are being replaced by collaborative networks and flat teams. Remote collaboration tools like Zoom, Slack, and Trello have transformed the workplace. At the same time, the mental health of employees has gained attention. Burnout, isolation, and digital fatigue are real issues in a hyperconnected world. Businesses are now integrating wellness programs, flexible work hours, and mental health support. Sustainability has also entered the boardroom. Stakeholders increasingly demand accountability not just in profits but also in environmental and social impact. ESG—Environmental, Social, and Governance—is no longer a buzzword but a framework that investors look for. Businesses that prioritize purpose along with profit are more likely to win customer trust and long-term loyalty. Data analytics and predictive modeling are helping companies anticipate trends and make informed decisions. But human judgment still plays a vital role. Trust, ethics, and empathy cannot be automated. The future belongs to organizations that blend technology with humanity. Education systems must also evolve to prepare students for a world driven by change. Coding, digital literacy, and critical thinking must be taught from early years. Governments, educators, and industries must work together to ensure that technology empowers rather than replaces the human workforce. Ultimately, success in the modern economy requires a mindset of growth, openness to change, and a commitment to continuous improvement. Those who innovate, collaborate, and care for people and the planet will lead the way forward.",
      "In an ancient kingdom surrounded by vast mountains and hidden valleys there lived a young scholar named Aarav whose mind was filled with insatiable curiosity and an unyielding thirst for wisdom. Unlike other children of his age who were satisfied with games and leisure, Aarav spent his hours buried in manuscripts, deciphering old inscriptions, and observing the mysterious movements of the night sky. His teachers often marveled at his ability to connect philosophy with science and imagination with reason. One day, while exploring a deserted monastery at the edge of the forest, he discovered a manuscript that spoke of a celestial library said to contain knowledge beyond human comprehension. The manuscript described labyrinthine caves, guarded by trials of intellect and spirit, where only the most persistent seeker could enter. Fascinated by the thought, Aarav decided to embark on the arduous journey despite warnings from the elders that many had attempted and failed. Armed with a lantern, a notebook, and unshakable determination, he ventured deep into the forest. Days turned into weeks as he crossed turbulent rivers, endured storms, and solved cryptic puzzles carved into the stones of abandoned temples. Finally he reached the cave entrance adorned with symbols that shimmered in the moonlight. Inside, shadows danced like phantoms and whispers echoed as though the cave itself tested his courage. At one point he encountered an illusionary wall of fire which demanded that he confront his deepest fears. Remembering the lessons of patience and clarity from his mentor, Aarav walked forward with steady breath and the fire dissolved into nothingness. At another chamber he faced a riddle inscribed on a stone: knowledge without humility is emptiness. With humility he bowed, and the path revealed itself. After many such ordeals he finally reached a hall filled with shelves that seemed to stretch into infinity. The books glowed softly, their letters shifting like stars in the night. Aarav realized that this was not a library of ordinary books but a manifestation of the universe itself where every star, river, and heartbeat was recorded. He read passages that spoke of distant galaxies, the secrets of the soul, and the destiny of civilizations. Yet the deeper he read, the more he understood that true wisdom was not in possessing answers but in asking the right questions. With reverence he left the library carrying not books but insight, determined to guide his people toward harmony and enlightenment. When he returned to the kingdom, people noticed a calm radiance in his eyes. He taught them that progress comes not from greed or conquest but from balance, compassion, and relentless pursuit of truth. Generations remembered Aarav as the seeker who found the library of the cosmos and returned not with treasures of gold but with treasures of wisdom that outlived empires and inspired countless minds to look beyond the horizon with courage and humility."
      ]
    };

    const WORDS_PER_LINE = 10;
    const PAGE_LINES = 4;
    let pageStart = 0;

    let quoteText = "";
    let quoteWords = [];
    let currentIndex = 0;
    let startTime;
    let countdown;
    let timeLeft = 0;
    let isRunning = false;

    const quoteDiv = document.getElementById("quote");
    const input = document.getElementById("input");
    const statsDiv = document.getElementById("stats");
    const levelSelect = document.getElementById("levelSelect");
    const timeInput = document.getElementById("testTime");
    const timerDisplay = document.getElementById("timer");

    // Utility to get lines for current page
    function getLines(words, startWord, lines) {
      let result = [];
      for (let i = 0; i < lines; i++) {
        const lineWords = words.slice(startWord + i * WORDS_PER_LINE, startWord + (i + 1) * WORDS_PER_LINE);
        if (lineWords.length) result.push(lineWords.join(" "));
      }
      return result;
    }

    // Show 4 lines at a time
    function showPage(startIdx) {
      const lines = getLines(quoteWords, startIdx, PAGE_LINES);
      let html = "";
      let wordIdx = startIdx;
      const typedWords = input.value.trim().split(" ");
      lines.forEach((line) => {
        const lineWords = line.split(" ");
        html += "<div>";
        lineWords.forEach((word, i) => {
          const globalIdx = wordIdx + i;
          let spanClass = "";
          if (globalIdx < currentIndex) {
            // Check if typed word is wrong
            if (typedWords[globalIdx] !== word) {
              spanClass = "wrong";
            }
          }
          if (globalIdx === currentIndex) {
            spanClass += (spanClass ? " " : "") + "highlight";
          }
          html += `<span class="${spanClass}">${word} </span>`;
        });
        html += "</div>";
        wordIdx += lineWords.length;
      });
      quoteDiv.innerHTML = html;
    }

    // Update startTest to use showPage
    function startTest() {
      const level = levelSelect.value;
      const list = paragraphs[level];
      quoteText = list[Math.floor(Math.random() * list.length)];
      quoteWords = quoteText.split(/\s+/);
      input.value = "";
      input.disabled = false;
      input.focus();
      statsDiv.textContent = "";
      startTime = new Date();
      currentIndex = 0;
      isRunning = true;
      timeLeft = parseInt(timeInput.value) || 300;
      pageStart = 0;
      showPage(pageStart);

      updateTimerDisplay();
      clearInterval(countdown);
      countdown = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(countdown);
          endTest();
        }
      }, 1000);
    }

    function updateTimerDisplay() {
      timerDisplay.textContent = `Time left: ${timeLeft}s`;
    }

    function highlightWord(index) {
      const words = quoteWords.map((word, i) => {
        if (i === index) return `<span class="highlight">${word}</span>`;
        return word;
      });
      quoteDiv.innerHTML = words.join(" ");
    }

    input.addEventListener("input", () => {
      if (!isRunning) return;

      const typed = input.value;
      const typedWords = typed.trim().split(" ");
      const currentWordTyped = typedWords[currentIndex] || "";
      const targetWord = quoteWords[currentIndex] || "";

      // If space pressed, move forward
      if (typed.endsWith(" ")) {
        if (currentWordTyped.trim() !== "") {
          currentIndex++;
          // If last word of current page is typed, show next 4 lines
          if (currentIndex > 0 && currentIndex % (PAGE_LINES * WORDS_PER_LINE) === 0) {
            pageStart = currentIndex;
          }
          // Auto submit if all words typed
          if (currentIndex >= quoteWords.length) {
            endTest();
            return;
          }
        }
        input.value = typedWords.slice(0, currentIndex).join(" ") + " ";
      }
      // Always show only current page
      showPage(pageStart);
    });

    function resetTest() {
      input.value = "";
      input.disabled = true;
      quoteDiv.textContent = "Click Start to load a paragraph...";
      statsDiv.textContent = "";
      quoteText = "";
      currentIndex = 0;
      isRunning = false;
      clearInterval(countdown);
      timerDisplay.textContent = "Time left: 0s";
    }

    function endTest() {
      if (!isRunning || !startTime) return;
      const endTime = new Date();
      const timeTaken = (endTime - startTime) / 1000;
      const typed = input.value.trim();
      const typedWords = typed.split(/\s+/);

      let correctCount = 0;
      let wrongWords = [];

      for (let i = 0; i < typedWords.length; i++) {
        if (typedWords[i] === quoteWords[i]) {
          correctCount++;
        } else {
          wrongWords.push(`<tr><td>${i + 1}</td><td>'${typedWords[i] || ""}'</td><td>'${quoteWords[i] || ""}'</td></tr>`);
        }
      }

      const wpm = Math.round((typedWords.length / timeTaken) * 60);
      const accuracy = Math.round((correctCount / quoteWords.length) * 100);

      let mistakeTable = "";
      if (wrongWords.length > 0) {
        mistakeTable = `
          <table border="1" style="margin:auto; margin-top:10px; border-collapse:collapse;">
            <tr style="background:#f8d7da; font-weight:bold;">
              <th style="padding:6px 12px;">No.</th>
              <th style="padding:6px 12px;">Your Word</th>
              <th style="padding:6px 12px;">Correct Word</th>
            </tr>
            ${wrongWords.join("")}
          </table>
        `;
        // Add row styling for better visibility
        mistakeTable = mistakeTable.replace(/<tr><td/g, '<tr style="background:#fff;"><td');
      } else {
        mistakeTable = "<b>No Mistakes!</b>";
      }

      statsDiv.innerHTML = `
        <div style="
          background: #f7f7f7;
          border-radius: 12px;
          box-shadow: 0 2px 12px rgba(0,0,0,0.08);
          padding: 24px 18px;
          max-width: 400px;
          margin: 30px auto 18px auto;
          font-size: 1.1rem;
          color: #222;
          border: 2px solid #007bff;
        ">
          <table style="width:100%; margin-bottom:10px; border-collapse:collapse;">
            <tr>
              <td style="padding:8px 0;"><span style="font-size:1.2em;">⏱</span> <b>Time:</b></td>
              <td style="padding:8px 0;">${Math.round(timeTaken)}s</td>
            </tr>
            <tr>
              <td style="padding:8px 0;"><span style="font-size:1.2em;">📄</span> <b>WPM:</b></td>
              <td style="padding:8px 0;">${wpm}</td>
            </tr>
            <tr>
              <td style="padding:8px 0;"><span style="font-size:1.2em;">🎯</span> <b>Accuracy:</b></td>
              <td style="padding:8px 0;">${accuracy}%</td>
            </tr>
          </table>
          <div style="margin-bottom:10px;"><b>❌ Mistakes:</b></div>
          ${mistakeTable}
        </div>
      `;
      input.disabled = true;
      isRunning = false;
      clearInterval(countdown);
    }
  </script>



  <footer style="margin-top:40px; text-align:center; background:#222; color:#fff; padding:16px 0; border-radius:8px;">
  Developed by <b>RS GULSHAN PRAJAPATI</b>
</footer>
</body>
</html>
